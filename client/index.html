<!DOCTYPE html>
<html>
<head>
    <title>Student Data Form</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Student Data Form</h1>
    <form id="studentForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="rollno">Roll Number:</label>
        <input type="number" id="rollno" name="rollno" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" required><br><br>

        <label for="father_name">Father's Name:</label>
        <input type="text" id="father_name" name="father_name"><br><br>

        <label for="mother_name">Mother's Name:</label>
        <input type="text" id="mother_name" name="mother_name"><br><br>

        <label for="year">Year:</label>
        <input type="number" id="year" name="year"><br><br>

        <label for="nationality">Nationality:</label>
        <input type="text" id="nationality" name="nationality"><br><br>

        <label for="gender">Gender:</label>
        <select id="gender" name="gender">
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
        </select><br><br>

        <input type="submit" value="Submit">
    </form>

    <script>
        document.getElementById('studentForm').addEventListener('submit', function(event) {
            event.preventDefault();  // Prevent form from submitting the default way

            const formData = {
                name: document.getElementById('name').value,
                rollno: document.getElementById('rollno').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                father_name: document.getElementById('father_name').value,
                mother_name: document.getElementById('mother_name').value,
                year: document.getElementById('year').value,
                nationality: document.getElementById('nationality').value,
                gender: document.getElementById('gender').value
            };

            fetch('http://localhost:3000/submit_form', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to submit the form. Please try again.');
            });
        });
    </script>
</body>
</html>

